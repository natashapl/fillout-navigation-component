"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};exports.__esModule=!0;var sortable_1=require("@dnd-kit/sortable"),image_1=require("next/image"),ContextMenu_1=require("./ContextMenu");function SortablePageButton(e){var t=e.page,n=e.isActive,o=e.setActivePageId,a=e.addPageAfter,i=e.isLast,r=e.onContextMenu,l=e.showContextMenu,c=e.onCloseContextMenu,s=e.onSetAsFirst,u=e.onRename,g=e.onCopy,d=e.onDuplicate,f=e.onDelete,p=sortable_1.useSortable({id:t.id}),b=p.attributes,m=p.listeners,h=p.setNodeRef,v=p.transform,y=p.transition,x=p.isDragging,_={translate:v?v.x+"px "+v.y+"px":void 0,transition:y,zIndex:x?50:"auto",opacity:1};return React.createElement("div",{ref:h,style:_,className:"relative group flex items-center "+(x?"scale-[1.02] shadow-lg":"")},React.createElement("div",__assign({className:"flex items-center rounded-lg border text-foreground text-[14px]/[20px] tracking-[-1.5%] whitespace-nowrap cursor-grab active:cursor-grabbing focus:border focus:border-default-blue focus-visible:outline-2 focus-visible:outline-default-blue/25\n          "+(n?"bg-white border-active-orange":"bg-default-light-gray-bg border-default-light-gray-bg hover:bg-default-medium-gray-bg pr-2.5")+"\n        "},b,m,{onClick:function(){return o(t.id)},style:{touchAction:"none"},role:"button",tabIndex:0,onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),n?l?null!=c&&c():null!=r&&r(t.id,{preventDefault:function(){},stopPropagation:function(){},clientX:0,clientY:0}):o(t.id))}}),React.createElement("div",{className:"flex items-center pl-2.5 pr-1 py-1 overflow-hidden"},React.createElement(image_1.default,{className:"mr-1.5",src:n?t.iconActive:t.iconInactive,alt:t.title+" icon",width:20,height:20}),React.createElement("span",null,t.title)),n&&React.createElement("div",{onClick:function(e){e.preventDefault(),e.stopPropagation(),l?null!=c&&c():null!=r&&r(t.id,e)},className:"pl-1 py-1.5 pr-2.5 rounded-tr-lg rounded-br-lg transition-colors cursor-pointer focus:border focus:border-default-blue  focus-visible:outline-2 focus-visible:outline-default-blue/25 "+(l?"bg-default-light-gray-bg":"hover:bg-default-light-gray-bg"),role:"button","data-menu-trigger":"true",onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),l?null!=c&&c():null!=r&&r(t.id,{preventDefault:function(){},stopPropagation:function(){},clientX:0,clientY:0}))}},React.createElement(image_1.default,{src:"/icons/icon-menu.svg",alt:"Menu",width:16,height:16,style:{height:"auto"}}))),!i&&!x&&React.createElement(React.Fragment,null,React.createElement(image_1.default,{src:"/icons/icon-divider.svg",alt:"",width:20,height:1.5,style:{height:"auto"}}),React.createElement("button",{onClick:function(e){e.stopPropagation(),console.log("Clicked + for:",t.title),a(t.id)},className:"w-9 h-4 hidden group-hover:inline-flex items-center justify-center transition cursor-pointer hover:scale-110"},React.createElement(image_1.default,{src:"/icons/icon-add-page.svg",alt:"Add page after",width:36,height:16,style:{height:"auto"}}))),l&&React.createElement("div",{className:"absolute top-full left-0 z-50 mt-1"},React.createElement(ContextMenu_1.default,{isOpen:!0,onClose:c||function(){},onSetAsFirst:s||function(){},onRename:u||function(){},onCopy:g||function(){},onDuplicate:d||function(){},onDelete:f||function(){}})))}exports.default=SortablePageButton;